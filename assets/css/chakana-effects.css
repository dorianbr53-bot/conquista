/* =========================================================================
   Conquista de la Chakana — Efectos y utilidades
   Archivo: ./assets/css/chakana-effects.css
   Propósito: Animaciones, transiciones, estados interactivos y helpers
   ========================================================================= */

/* ---- Animaciones base ---- */
.fade-in { animation: fadeIn .28s ease-out; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }

/* ---- Transiciones suaves ---- */
.btn, .card, .selectable, .input, #turnBanner, .player-card, .phase-preview {
  transition: all 160ms ease-in-out;
}

/* ---- Estados hover/selección genéricos ---- */
.selectable { cursor: pointer; outline: 0; }
.selectable:hover { filter: brightness(1.06); transform: translateY(-1px); }
/* Fallback dorado si no hay regla específica por guerrero */
.selectable.selected {
  outline: 2px solid var(--gold);
  box-shadow: 0 0 18px 6px rgba(240,194,59,.45), 0 8px 20px rgba(0,0,0,.35);
  transform: translateY(-2px);
}

/* =========================================================================
   Brillos por guerrero (avatar-screen y config-players-screen)
   ========================================================================= */
/* Avatar-screen */
#avatar-screen .selectable.selected[data-warrior="condor"] {
  outline: 2px solid #1e66ff;
  box-shadow: 0 0 18px 6px rgba(30,102,255,.45), 0 8px 20px rgba(0,0,0,.35);
}
#avatar-screen .selectable.selected[data-warrior="puma"] {
  outline: 2px solid #ff3b30;
  box-shadow: 0 0 18px 6px rgba(255,59,48,.45), 0 8px 20px rgba(0,0,0,.35);
}
#avatar-screen .selectable.selected[data-warrior="boa"] {
  outline: 2px solid #2ecc71;
  box-shadow: 0 0 18px 6px rgba(46,204,113,.45), 0 8px 20px rgba(0,0,0,.35);
}
#avatar-screen .selectable.selected[data-warrior="vicuna"] {
  outline: 2px solid #ffd567;
  box-shadow: 0 0 18px 6px rgba(255,213,103,.55), 0 8px 20px rgba(0,0,0,.35);
}

/* Config-players-screen (mini-avatars) */
#config-players-screen .mini-avatars .selectable.selected[data-warrior="condor"] {
  outline: 2px solid #1e66ff;
  box-shadow: 0 0 12px 3px rgba(30,102,255,.40), 0 6px 16px rgba(0,0,0,.25);
}
#config-players-screen .mini-avatars .selectable.selected[data-warrior="puma"] {
  outline: 2px solid #ff3b30;
  box-shadow: 0 0 12px 3px rgba(255,59,48,.40), 0 6px 16px rgba(0,0,0,.25);
}
#config-players-screen .mini-avatars .selectable.selected[data-warrior="boa"] {
  outline: 2px solid #2ecc71;
  box-shadow: 0 0 12px 3px rgba(46,204,113,.40), 0 6px 16px rgba(0,0,0,.25);
}
#config-players-screen .mini-avatars .selectable.selected[data-warrior="vicuna"] {
  outline: 2px solid #ffd567;
  box-shadow: 0 0 12px 3px rgba(255,213,103,.50), 0 6px 16px rgba(0,0,0,.25);
}

/* =========================================================================
   Fases: estado bloqueado y overlay
   ========================================================================= */
#phaseGrid .card.locked {
  filter: grayscale(.75) saturate(.7);
  opacity: .65;
  cursor: not-allowed;
  position: relative;
}
.lock-overlay {
  position: absolute;
  right: 12px;
  bottom: 12px;
  background: rgba(0,0,0,.6);
  color: #fff;
  border: 1px solid var(--gold);
  border-radius: 8px;
  padding: 4px 8px;
  font-weight: 700;
  box-shadow: 0 6px 16px rgba(0,0,0,.35);
}

/* =========================================================================
   Tabs (modal Reglas)
   ========================================================================= */
.tabs { display: flex; gap: 8px; justify-content: center; margin: 12px 0; }
.tab-btn { background: #4a4138; color: var(--text); border: 1px solid var(--gold); padding: 6px 12px; border-radius: 8px; cursor: pointer; }
.tab-btn.active { background: var(--gold); color: #1a120b; font-weight: 700; }
.tab-content { padding: 10px; }
.tab-pane { display: none; text-align: center; }
.tab-pane.active { display: block; }

/* =========================================================================
   Mini-avatars (layout responsivo)
   ========================================================================= */
.mini-avatars { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
@media (max-width: 920px) { .mini-avatars { grid-template-columns: repeat(3, 1fr); } }
@media (max-width: 640px) { .mini-avatars { grid-template-columns: repeat(2, 1fr); } }
.mini-avatars .card { width: 86px; height: 86px; border: 1px solid var(--gold); border-radius: 12px; padding: 6px; display: flex; align-items: center; justify-content: center; }
.mini-avatars .card img { width: 100%; height: 100%; object-fit: contain; border-radius: 8px; }

/* =========================================================================
   Accesibilidad: enfoque visible
   ========================================================================= */
button:focus, .selectable:focus, .input:focus {
  outline: 2px solid var(--gold);
  outline-offset: 2px;
}

/* =========================================================================
   Banner de turno: flash y acento
   ========================================================================= */
#rightPanel .banner.flash { animation: flash 600ms ease-in-out infinite; }
@keyframes flash { 0%, 100% { filter: brightness(1); } 50% { filter: brightness(1.35); } }
#turnBanner.accent {
  border: 2px solid currentColor;
  box-shadow: 0 12px 32px rgba(0,0,0,.35), 0 0 0 3px rgba(0,0,0,.12) inset;
}

/* =========================================================================
   Canvas del tablero (refuerzo visual)
   ========================================================================= */
#gameCanvas { border-radius: 10px; }
